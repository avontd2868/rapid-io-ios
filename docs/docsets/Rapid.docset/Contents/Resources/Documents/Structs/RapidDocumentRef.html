<!DOCTYPE html>
<html lang="en">
  <head>
    <title>RapidDocumentRef Struct Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a name="//apple_ref/swift/Struct/RapidDocumentRef" class="dashAnchor"></a>
    <a title="RapidDocumentRef Struct Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html">Rapid Docs</a> (79% documented)</p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html">Rapid Reference</a>
        <img id="carat" src="../img/carat.png" />
        RapidDocumentRef Struct Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/Rapid.html">Rapid</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/RapidDocument.html">RapidDocument</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Enums.html">Enums</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Enums/RapidConnectionState.html">RapidConnectionState</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/RapidError.html">RapidError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/RapidError/InvalidDataReason.html">– InvalidDataReason</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/RapidError/ExecutionError.html">– ExecutionError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/RapidExecutionResult.html">RapidExecutionResult</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/RapidLogLevel.html">RapidLogLevel</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/RapidResult.html">RapidResult</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Extensions/Array.html">Array</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Functions.html#/s:5Rapid2eeoiSbAA0A8DocumentC_ADtF">==(_:_:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Protocols.html#/s:5Rapid0A10ComparableP">RapidComparable</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/RapidDeletionReference.html">RapidDeletionReference</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/RapidFetchReference.html">RapidFetchReference</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/RapidFilterDescriptor.html">RapidFilterDescriptor</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/RapidMergeReference.html">RapidMergeReference</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/RapidMutationReference.html">RapidMutationReference</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/RapidQuery.html">RapidQuery</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/RapidSubscription.html">RapidSubscription</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/RapidSubscriptionReference.html">RapidSubscriptionReference</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/RapidWriteRequest.html">RapidWriteRequest</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Structs.html">Structs</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Structs/RapidAuthorization.html">RapidAuthorization</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/RapidChannelMessage.html">RapidChannelMessage</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/RapidChannelRef.html">RapidChannelRef</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/RapidChannelsRef.html">RapidChannelsRef</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/RapidCollectionRef.html">RapidCollectionRef</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/RapidDocumentRef.html">RapidDocumentRef</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/RapidDocumentRefOnConnect.html">RapidDocumentRefOnConnect</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/RapidDocumentRefOnDisconnect.html">RapidDocumentRefOnDisconnect</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/RapidFilter.html">RapidFilter</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/RapidFilterCompound.html">RapidFilterCompound</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/RapidFilterCompound/Operator.html">– Operator</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/RapidFilterSimple.html">RapidFilterSimple</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/RapidFilterSimple/Relation.html">– Relation</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/RapidOrdering.html">RapidOrdering</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/RapidOrdering/Ordering.html">– Ordering</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/RapidPaging.html">RapidPaging</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Typealiases.html">Typealiases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:5Rapid0A11AuthHandlera">RapidAuthHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:5Rapid0A26ChannelSubscriptionHandlera">RapidChannelSubscriptionHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:5Rapid0A25CollectionFetchCompletiona">RapidCollectionFetchCompletion</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:5Rapid0A29CollectionSubscriptionHandlera">RapidCollectionSubscriptionHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:5Rapid0A40CollectionSubscriptionHandlerWithChangesa">RapidCollectionSubscriptionHandlerWithChanges</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:5Rapid0A12DeuthHandlera">RapidDeuthHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:5Rapid0A26DocumentDeletionCompletiona">RapidDocumentDeletionCompletion</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:5Rapid0A22DocumentExecutionBlocka">RapidDocumentExecutionBlock</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:5Rapid0A27DocumentExecutionCompletiona">RapidDocumentExecutionCompletion</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:5Rapid0A23DocumentFetchCompletiona">RapidDocumentFetchCompletion</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:5Rapid0A23DocumentMergeCompletiona">RapidDocumentMergeCompletion</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:5Rapid0A26DocumentMutationCompletiona">RapidDocumentMutationCompletion</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:5Rapid0A41DocumentRegisterOnConnectActionCompletiona">RapidDocumentRegisterOnConnectActionCompletion</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:5Rapid0A43DocumentRegisterOnDisonnectActionCompletiona">RapidDocumentRegisterOnDisonnectActionCompletion</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:5Rapid0A27DocumentSubscriptionHandlera">RapidDocumentSubscriptionHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:5Rapid0A17PublishCompletiona">RapidPublishCompletion</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:5Rapid0A17TimeOffsetHandlera">RapidTimeOffsetHandler</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>RapidDocumentRef</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">RapidDocumentRef</span><span class="p">:</span> <span class="kt">RapidInstanceWithSocketManager</span></code></pre>

                </div>
              </div>
            <p>Rapid.io document reference</p>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:5Rapid0A11DocumentRefV14collectionNameSSv"></a>
                    <a name="//apple_ref/swift/Property/collectionName" class="dashAnchor"></a>
                    <a class="token" href="#/s:5Rapid0A11DocumentRefV14collectionNameSSv">collectionName</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Name of a collection to which the document belongs</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">collectionName</span><span class="p">:</span> <span class="kt">String</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:5Rapid0A11DocumentRefV10documentIDSSv"></a>
                    <a name="//apple_ref/swift/Property/documentID" class="dashAnchor"></a>
                    <a class="token" href="#/s:5Rapid0A11DocumentRefV10documentIDSSv">documentID</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Document ID</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">documentID</span><span class="p">:</span> <span class="kt">String</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:5Rapid0A11DocumentRefV9onConnectAA0abc2OnE0VyF"></a>
                    <a name="//apple_ref/swift/Method/onConnect()" class="dashAnchor"></a>
                    <a class="token" href="#/s:5Rapid0A11DocumentRefV9onConnectAA0abc2OnE0VyF">onConnect()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Get an instance of Rapid document reference that is used to register
actions that should be permormed when <code><a href="../Classes/Rapid.html">Rapid</a></code> instance connects
to a server</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">onConnect</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Structs/RapidDocumentRefOnConnect.html">RapidDocumentRefOnConnect</a></span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>Instance of <code><a href="../Structs/RapidDocumentRefOnConnect.html">RapidDocumentRefOnConnect</a></code></p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:5Rapid0A11DocumentRefV12onDisconnectAA0abc2OnE0VyF"></a>
                    <a name="//apple_ref/swift/Method/onDisconnect()" class="dashAnchor"></a>
                    <a class="token" href="#/s:5Rapid0A11DocumentRefV12onDisconnectAA0abc2OnE0VyF">onDisconnect()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Get an instance of Rapid document reference that is used to register
actions that should be permormed when <code><a href="../Classes/Rapid.html">Rapid</a></code> instance disconnects
from a server</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">onDisconnect</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Structs/RapidDocumentRefOnDisconnect.html">RapidDocumentRefOnDisconnect</a></span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>Instance of <code><a href="../Structs/RapidDocumentRefOnDisconnect.html">RapidDocumentRefOnDisconnect</a></code></p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:5Rapid0A11DocumentRefV7executeyAA0A15ExecutionResultOAA0aB0Cc5block_yAA0aF0OyypSgGcSg10completiontF"></a>
                    <a name="//apple_ref/swift/Method/execute(block:completion:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:5Rapid0A11DocumentRefV7executeyAA0A15ExecutionResultOAA0aB0Cc5block_yAA0aF0OyypSgGcSg10completiontF">execute(block:completion:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Update the document with regard to a current document content.</p>

<p>The block of code receives current document content and a developer chooses an action based on that.</p>

<p>If the block returns <code><a href="../Enums/RapidExecutionResult.html#/s:5Rapid0A15ExecutionResultO5abortA2CmF">RapidExecutionResult.abort</a></code> the execution is aborted and the completion handler receives <code>RapidError.executionFailed(RapidError.ExecutionError.aborted)</code>.</p>

<p>If the block returns <code><a href="../Enums/RapidExecutionResult.html#/s:5Rapid0A15ExecutionResultO6deleteA2CmF">RapidExecutionResult.delete</a></code> it means that the document should be deleted, but only if it wasn&rsquo;t updated in a database in the meanwhile.
If the document was updated in the meanwhile the block is called again with a new document content.</p>

<p>If block returns <code>RapidExecutionResult.write(value)</code> it means that the document should be mutated with <code>value</code>, but only if it wasn&rsquo;t updated in a database in the meanwhile.
If the document was updated in the meanwhile the block is called again with a new document content.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">execute</span><span class="p">(</span><span class="nv">block</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="kt"><a href="../Typealiases.html#/s:5Rapid0A22DocumentExecutionBlocka">RapidDocumentExecutionBlock</a></span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kt"><a href="../Typealiases.html#/s:5Rapid0A27DocumentExecutionCompletiona">RapidDocumentExecutionCompletion</a></span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>block</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Block of code that receives current document content and returns <code>RapidExecutionResult</code> based on the received value.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>completion</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Execuction completion handler which provides a client with an error if any error occurs</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:5Rapid0A11DocumentRefV9subscribeAA0A12Subscription_pyAA0A6ResultOyAA0aB0CGc5block_tF"></a>
                    <a name="//apple_ref/swift/Method/subscribe(block:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:5Rapid0A11DocumentRefV9subscribeAA0A12Subscription_pyAA0A6ResultOyAA0aB0CGc5block_tF">subscribe(block:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Subscribe for listening to document changes</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">subscribe</span><span class="p">(</span><span class="nv">block</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="kt"><a href="../Typealiases.html#/s:5Rapid0A27DocumentSubscriptionHandlera">RapidDocumentSubscriptionHandler</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Protocols/RapidSubscription.html">RapidSubscription</a></span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>block</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Subscription handler that provides a client either with an error or with any new document content</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>Subscription object which can be used for unsubscribing</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:5Rapid0A11DocumentRefV9subscribeAA0A12Subscription_pxm13decodableType_yAA0A6ResultOyxGc5blockts9DecodableRzlF"></a>
                    <a name="//apple_ref/swift/Method/subscribe(decodableType:block:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:5Rapid0A11DocumentRefV9subscribeAA0A12Subscription_pxm13decodableType_yAA0A6ResultOyxGc5blockts9DecodableRzlF">subscribe(decodableType:block:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Subscribe for listening to data changes</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">subscribe</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">decodableType</span> <span class="nv">type</span><span class="p">:</span> <span class="kt">T</span><span class="o">.</span><span class="k">Type</span><span class="p">,</span> <span class="nv">block</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="n">_</span> <span class="nv">result</span><span class="p">:</span> <span class="kt"><a href="../Enums/RapidResult.html">RapidResult</a></span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Protocols/RapidSubscription.html">RapidSubscription</a></span> <span class="k">where</span> <span class="kt">T</span><span class="p">:</span> <span class="kt">Decodable</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>decodableType</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Type of object to which should be json coming from Rapid server deserialized</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>block</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Subscription handler that provides a client either with an error or with up-to-date data</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>Subscription object which can be used for unsubscribing</p>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:5Rapid0A11DocumentRefV5fetchyyAA0A6ResultOyAA0aB0CGc10completion_tF"></a>
                    <a name="//apple_ref/swift/Method/fetch(completion:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:5Rapid0A11DocumentRefV5fetchyyAA0A6ResultOyAA0aB0CGc10completion_tF">fetch(completion:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Fetch the document</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">fetch</span><span class="p">(</span><span class="nv">completion</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="kt"><a href="../Typealiases.html#/s:5Rapid0A23DocumentFetchCompletiona">RapidDocumentFetchCompletion</a></span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>completion</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Fetch completion handler that provides a client either with an error or with the document</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:5Rapid0A11DocumentRefV5fetchyxm13decodableType_yAA0A6ResultOyxGc10completionts9DecodableRzlF"></a>
                    <a name="//apple_ref/swift/Method/fetch(decodableType:completion:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:5Rapid0A11DocumentRefV5fetchyxm13decodableType_yAA0A6ResultOyxGc10completionts9DecodableRzlF">fetch(decodableType:completion:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Fetch data</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">fetch</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">decodableType</span> <span class="nv">type</span><span class="p">:</span> <span class="kt">T</span><span class="o">.</span><span class="k">Type</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="n">_</span> <span class="nv">result</span><span class="p">:</span> <span class="kt"><a href="../Enums/RapidResult.html">RapidResult</a></span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="k">where</span> <span class="kt">T</span> <span class="p">:</span> <span class="kt">Decodable</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>decodableType</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Type of object to which should be json coming from Rapid server deserialized</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>completion</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Completion handler that provides a client either with an error or with data</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:5Rapid0A11DocumentRefV6mutateAA0A12WriteRequest_ps10DictionaryVySSypG5value_yAA0A6ResultOyypSgGcSg10completiontF"></a>
                    <a name="//apple_ref/swift/Method/mutate(value:completion:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:5Rapid0A11DocumentRefV6mutateAA0A12WriteRequest_ps10DictionaryVySSypG5value_yAA0A6ResultOyypSgGcSg10completiontF">mutate(value:completion:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Mutate the document</p>

<p>All values in the document are deleted and replaced by values in the provided dictionary</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">mutate</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">:</span> <span class="kt">Any</span><span class="p">],</span> <span class="nv">completion</span><span class="p">:</span> <span class="kt"><a href="../Typealiases.html#/s:5Rapid0A26DocumentMutationCompletiona">RapidDocumentMutationCompletion</a></span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Protocols/RapidWriteRequest.html">RapidWriteRequest</a></span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>value</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Dictionary with new values that the document should contain</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>completion</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Mutation completion handler which provides a client with an error if any error occurs</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p><code><a href="../Protocols/RapidWriteRequest.html">RapidWriteRequest</a></code> instance</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:5Rapid0A11DocumentRefV6mutateAA0A12WriteRequest_ps10DictionaryVySSypG5value_SSSg4etagyAA0A6ResultOyypSgGcSg10completiontF"></a>
                    <a name="//apple_ref/swift/Method/mutate(value:etag:completion:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:5Rapid0A11DocumentRefV6mutateAA0A12WriteRequest_ps10DictionaryVySSypG5value_SSSg4etagyAA0A6ResultOyypSgGcSg10completiontF">mutate(value:etag:completion:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Mutate the document with regard to a current document content.</p>

<p>Provided etag is compared to an etag of the document stored in a database.
When provided etag is <code>nil</code> it means that the document shouldn&rsquo;t be stored in a database yet.
If provided etag equals to an etag stored in a database all values in the document are deleted and replaced by values in the provided dictionary.
If provided etag differs from an etag stored in a database the mutation fails with <code><a href="../Enums/RapidError.html#/s:5Rapid0A5ErrorO15executionFailedA2C09ExecutionB0O6reason_tcACmF">RapidError.executionFailed</a></code></p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">mutate</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">:</span> <span class="kt">Any</span><span class="p">],</span> <span class="nv">etag</span><span class="p">:</span> <span class="kt">String</span><span class="p">?,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kt"><a href="../Typealiases.html#/s:5Rapid0A26DocumentMutationCompletiona">RapidDocumentMutationCompletion</a></span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Protocols/RapidWriteRequest.html">RapidWriteRequest</a></span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>value</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Dictionary with new values that the document should contain</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>etag</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p><code>RapidDocument</code> etag</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>completion</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Mutation completion handler which provides a client with an error if any error occurs</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p><code><a href="../Protocols/RapidWriteRequest.html">RapidWriteRequest</a></code> instance</p>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:5Rapid0A11DocumentRefV5mergeAA0A12WriteRequest_ps10DictionaryVySSypG5value_yAA0A6ResultOyypSgGcSg10completiontF"></a>
                    <a name="//apple_ref/swift/Method/merge(value:completion:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:5Rapid0A11DocumentRefV5mergeAA0A12WriteRequest_ps10DictionaryVySSypG5value_yAA0A6ResultOyypSgGcSg10completiontF">merge(value:completion:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Merge values in the document with values in a provided dictionary</p>

<p>Properties that are not mentioned in the provided dictionary remains as they are.
Properties that are mentioned in the provided dictionary are either replaced or added to the document.
Properties that are mentioned in the provided dictionary and contains <code><a href="../Classes/Rapid.html#/s:5RapidAAC8nilValueSo6NSNullCvZ">Rapid.nilValue</a></code> are deleted from the document</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">merge</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">:</span> <span class="kt">Any</span><span class="p">],</span> <span class="nv">completion</span><span class="p">:</span> <span class="kt"><a href="../Typealiases.html#/s:5Rapid0A23DocumentMergeCompletiona">RapidDocumentMergeCompletion</a></span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Protocols/RapidWriteRequest.html">RapidWriteRequest</a></span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>value</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Dictionary with new values that should be merged with the document values</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>completion</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Merge completion handler which provides a client with an error if any error occurs</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p><code><a href="../Protocols/RapidWriteRequest.html">RapidWriteRequest</a></code> instance</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:5Rapid0A11DocumentRefV5mergeAA0A12WriteRequest_ps10DictionaryVySSypG5value_SSSg4etagyAA0A6ResultOyypSgGcSg10completiontF"></a>
                    <a name="//apple_ref/swift/Method/merge(value:etag:completion:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:5Rapid0A11DocumentRefV5mergeAA0A12WriteRequest_ps10DictionaryVySSypG5value_SSSg4etagyAA0A6ResultOyypSgGcSg10completiontF">merge(value:etag:completion:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Merge values in the document with values in a provided dictionary.</p>

<p>Provided etag is compared to an etag of the document stored in a database.
When provided etag is <code>nil</code> it means that the document shouldn&rsquo;t be stored in a database yet.
If provided etag equals to an etag stored in a database the merge takes place.
If provided etag differs from an etag stored in a database the merge fails with <code><a href="../Enums/RapidError.html#/s:5Rapid0A5ErrorO15executionFailedA2C09ExecutionB0O6reason_tcACmF">RapidError.executionFailed</a></code></p>

<p>Properties that are not mentioned in the provided dictionary remains as they are.
Properties that are mentioned in the provided dictionary are either replaced or added to the document.
Properties that are mentioned in the provided dictionary and contains <code><a href="../Classes/Rapid.html#/s:5RapidAAC8nilValueSo6NSNullCvZ">Rapid.nilValue</a></code> are deleted from the document</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">merge</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">:</span> <span class="kt">Any</span><span class="p">],</span> <span class="nv">etag</span><span class="p">:</span> <span class="kt">String</span><span class="p">?,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kt"><a href="../Typealiases.html#/s:5Rapid0A23DocumentMergeCompletiona">RapidDocumentMergeCompletion</a></span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Protocols/RapidWriteRequest.html">RapidWriteRequest</a></span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>value</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Dictionary with new values that should be merged with the document values</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>etag</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p><code>RapidDocument</code> etag</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>completion</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Merge completion handler which provides a client with an error if any error occurs</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p><code><a href="../Protocols/RapidWriteRequest.html">RapidWriteRequest</a></code> instance</p>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:5Rapid0A11DocumentRefV6deleteAA0A12WriteRequest_pyAA0A6ResultOyypSgGcSg10completion_tF"></a>
                    <a name="//apple_ref/swift/Method/delete(completion:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:5Rapid0A11DocumentRefV6deleteAA0A12WriteRequest_pyAA0A6ResultOyypSgGcSg10completion_tF">delete(completion:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Delete the document</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">delete</span><span class="p">(</span><span class="nv">completion</span><span class="p">:</span> <span class="kt"><a href="../Typealiases.html#/s:5Rapid0A26DocumentDeletionCompletiona">RapidDocumentDeletionCompletion</a></span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Protocols/RapidWriteRequest.html">RapidWriteRequest</a></span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>completion</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Deletion completion handler which provides a client with an error if any error occurs</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p><code><a href="../Protocols/RapidWriteRequest.html">RapidWriteRequest</a></code> instance</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:5Rapid0A11DocumentRefV6deleteAA0A12WriteRequest_pSS4etag_yAA0A6ResultOyypSgGcSg10completiontF"></a>
                    <a name="//apple_ref/swift/Method/delete(etag:completion:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:5Rapid0A11DocumentRefV6deleteAA0A12WriteRequest_pSS4etag_yAA0A6ResultOyypSgGcSg10completiontF">delete(etag:completion:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Delete the document.</p>

<p>Provided etag is compared to an etag of the document stored in a database.
If provided etag equals to an etag stored in a database the merge takes place.
If provided etag differs from an etag stored in a database the merge fails with <code><a href="../Enums/RapidError.html#/s:5Rapid0A5ErrorO15executionFailedA2C09ExecutionB0O6reason_tcACmF">RapidError.executionFailed</a></code>.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">delete</span><span class="p">(</span><span class="nv">etag</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kt"><a href="../Typealiases.html#/s:5Rapid0A26DocumentDeletionCompletiona">RapidDocumentDeletionCompletion</a></span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Protocols/RapidWriteRequest.html">RapidWriteRequest</a></span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>etag</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p><code>RapidDocument</code> etag</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>completion</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Deletion completion handler which provides a client with an error if any error occurs</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p><code><a href="../Protocols/RapidWriteRequest.html">RapidWriteRequest</a></code> instance</p>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2017 <a class="link" href="https://www.rapid.io" target="_blank" rel="external">Jan Schwarz</a>. All rights reserved. (Last updated: 2017-10-03)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.8.3</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
